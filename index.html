<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÍµêÏõê Ìú¥Í∞Ä¬∑Ìú¥ÏßÅ Í¥ÄÎ¶¨ ÎåÄÏãúÎ≥¥Îìú</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <h1>ÍµêÏõê Ìú¥Í∞Ä¬∑Ìú¥ÏßÅ Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú</h1>
                <div class="header-info">
                    <span class="user-role">ÍµêÎ¨¥Î∂ÄÏû•</span>
                    <span class="current-date" id="currentDate"></span>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav">
            <div class="container">
                <div class="nav-tabs">
                    <button class="nav-tab active" data-tab="dashboard">ÎåÄÏãúÎ≥¥Îìú</button>
                    <button class="nav-tab" data-tab="teachers">ÍµêÏõêÍ¥ÄÎ¶¨</button>
                    <button class="nav-tab" data-tab="leaves">Ìú¥Í∞ÄÍ¥ÄÎ¶¨</button>
                    <button class="nav-tab" data-tab="absences">Ìú¥ÏßÅÍ¥ÄÎ¶¨</button>
                    <button class="nav-tab" data-tab="contract">Í∏∞Í∞ÑÏ†úÍµêÏõê</button>
                    <button class="nav-tab" data-tab="statistics">ÌÜµÍ≥Ñ</button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main">
            <div class="container">

                <!-- Dashboard Tab -->
                <div id="dashboard" class="tab-content active">
                    <h2>ÎåÄÏãúÎ≥¥Îìú ÌòÑÌô©</h2>
                    
                    <!-- Summary Cards -->
                    <div class="summary-grid">
                        <div class="summary-card">
                            <div class="summary-icon" style="background: var(--color-bg-1);">üë•</div>
                            <div class="summary-content">
                                <h3 id="totalTeachers">5</h3>
                                <p>Ï†ÑÏ≤¥ ÍµêÏõêÏàò</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon" style="background: var(--color-bg-2);">üèñÔ∏è</div>
                            <div class="summary-content">
                                <h3 id="onLeave">0</h3>
                                <p>Ìú¥Í∞ÄÏ§ë ÍµêÏõê</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon" style="background: var(--color-bg-3);">‚è∏Ô∏è</div>
                            <div class="summary-content">
                                <h3 id="onAbsence">1</h3>
                                <p>Ìú¥ÏßÅÏ§ë ÍµêÏõê</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon" style="background: var(--color-bg-4);">üë®‚Äçüè´</div>
                            <div class="summary-content">
                                <h3 id="contractTeachers">3</h3>
                                <p>Í∏∞Í∞ÑÏ†ú ÍµêÏõê</p>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Approvals -->
                    <div class="pending-section">
                        <h3>ÏäπÏù∏ ÎåÄÍ∏∞Ï§ëÏù∏ Ïã†Ï≤≠ÏÑú (<span id="pendingCount">0</span>Í±¥)</h3>
                        <div class="card">
                            <div class="card__body">
                                <div id="pendingList" class="pending-list"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Enhanced Calendar View -->
                    <div class="calendar-section">
                        <div class="calendar-header">
                            <h3>ÏõîÎ≥Ñ Ìú¥Í∞Ä¬∑Ìú¥ÏßÅ ÌòÑÌô©</h3>
                            <div class="calendar-controls">
                                <button class="btn btn--sm btn--secondary" id="todayBtn">Ïò§Îäò</button>
                                <button class="btn btn--sm btn--outline" id="exportBtn">üìÑ Excel ÎÇ¥Î≥¥ÎÇ¥Í∏∞</button>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card__body">
                                <!-- Calendar Navigation -->
                                <div class="calendar-nav">
                                    <button class="calendar-nav-btn" id="prevMonthBtn">‚Äπ</button>
                                    <div class="calendar-date-selector">
                                        <select id="yearSelect" class="form-control calendar-select">
                                            <option value="2023">2023ÎÖÑ</option>
                                            <option value="2024">2024ÎÖÑ</option>
                                            <option value="2025" selected>2025ÎÖÑ</option>
                                            <option value="2026">2026ÎÖÑ</option>
                                            <option value="2027">2027ÎÖÑ</option>
                                        </select>
                                        <select id="monthSelect" class="form-control calendar-select">
                                            <option value="0">1Ïõî</option>
                                            <option value="1">2Ïõî</option>
                                            <option value="2">3Ïõî</option>
                                            <option value="3">4Ïõî</option>
                                            <option value="4">5Ïõî</option>
                                            <option value="5">6Ïõî</option>
                                            <option value="6">7Ïõî</option>
                                            <option value="7">8Ïõî</option>
                                            <option value="8" selected>9Ïõî</option>
                                            <option value="9">10Ïõî</option>
                                            <option value="10">11Ïõî</option>
                                            <option value="11">12Ïõî</option>
                                        </select>
                                    </div>
                                    <button class="calendar-nav-btn" id="nextMonthBtn">‚Ä∫</button>
                                </div>

                                <!-- Calendar Legend -->
                                <div class="calendar-legend">
                                    <div class="legend-item">
                                        <span class="legend-color" style="background-color: var(--color-success);"></span>
                                        <span>Ïó∞Í∞Ä</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-color" style="background-color: var(--color-warning);"></span>
                                        <span>Î≥ëÍ∞Ä</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-color" style="background-color: var(--color-primary);"></span>
                                        <span>Í≥µÍ∞Ä</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-color" style="background-color: #9C27B0;"></span>
                                        <span>ÌäπÎ≥ÑÌú¥Í∞Ä</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-color" style="background-color: #607D8B;"></span>
                                        <span>Ïû•Í∏∞Ïû¨ÏßÅÌú¥Í∞Ä</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-color" style="background-color: var(--color-error);"></span>
                                        <span>Ìú¥ÏßÅ</span>
                                    </div>
                                </div>

                                <!-- Calendar Grid -->
                                <div id="calendarView" class="calendar-view"></div>

                                <!-- Month Summary -->
                                <div class="month-summary">
                                    <div class="summary-stats">
                                        <div class="stat-item">
                                            <span class="stat-label">Ïù¥Î≤à Îã¨ Ï¥ù Ìú¥Í∞ÄÏùºÏàò</span>
                                            <span class="stat-value" id="monthTotalDays">0Ïùº</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">ÏäπÏù∏ ÎåÄÍ∏∞</span>
                                            <span class="stat-value" id="monthPendingCount">0Í±¥</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">ÏäπÏù∏ ÏôÑÎ£å</span>
                                            <span class="stat-value" id="monthApprovedCount">0Í±¥</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">Î∞òÎ†§</span>
                                            <span class="stat-value" id="monthRejectedCount">0Í±¥</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Teachers Tab -->
                <div id="teachers" class="tab-content">
                    <div class="section-header">
                        <h2>Ï†ïÍ∑úÍµêÏõê Í¥ÄÎ¶¨</h2>
                        <button class="btn btn--primary" onclick="openTeacherForm()">
                            <span class="btn-icon">+</span>
                            Ïã†Í∑ú ÍµêÏõê Îì±Î°ù
                        </button>
                    </div>
                    
                    <!-- Search and Filter -->
                    <div class="search-section">
                        <input type="text" id="teacherSearch" class="form-control search-input" placeholder="ÍµêÏõêÎ™Ö, Í≥ºÎ™©, Î∂ÄÏÑúÎ°ú Í≤ÄÏÉâ...">
                        <select id="teacherDepartmentFilter" class="form-control">
                            <option value="">Ï†ÑÏ≤¥ Î∂ÄÏÑú</option>
                        </select>
                        <select id="teacherStatusFilter" class="form-control">
                            <option value="">Ï†ÑÏ≤¥ ÏÉÅÌÉú</option>
                            <option value="Ïû¨ÏßÅ">Ïû¨ÏßÅ</option>
                            <option value="Ïú°ÏïÑÌú¥ÏßÅ">Ïú°ÏïÑÌú¥ÏßÅ</option>
                            <option value="Î≥ëÍ∞ÄÌú¥ÏßÅ">Î≥ëÍ∞ÄÌú¥ÏßÅ</option>
                        </select>
                    </div>

                    <div class="card">
                        <div class="card__body">
                            <div class="table-responsive">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th><input type="checkbox" id="teacherSelectAll" /></th>
                                            <th>ÏÑ±Î™Ö</th>
                                            <th>Í≥ºÎ™©</th>
                                            <th>Î∂ÄÏÑú</th>
                                            <th>Ïû¨ÏßÅÏó∞Ïàò</th>
                                            <th>Ïó∞Í∞ÄÏùºÏàò</th>
                                            <th>ÏÇ¨Ïö©/ÏûîÏó¨</th>
                                            <th>ÏÉÅÌÉú</th>
                                            <th>Í¥ÄÎ¶¨</th>
                                        </tr>
                                    </thead>
                                    <tbody id="teachersTable"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Leaves Tab -->
                <div id="leaves" class="tab-content">
                    <div class="section-header">
                        <h2>Ìú¥Í∞Ä Í¥ÄÎ¶¨</h2>
                        <button class="btn btn--primary" onclick="openLeaveForm()">
                            <span class="btn-icon">+</span>
                            Ìú¥Í∞Ä Ïã†Ï≤≠
                        </button>
                    </div>
                    
                    <!-- Filter Options -->
                    <div class="search-section">
                        <input type="text" id="leaveSearch" class="form-control search-input" placeholder="Ïã†Ï≤≠ÏûêÎ™ÖÏúºÎ°ú Í≤ÄÏÉâ...">
                        <select id="leaveTypeFilter" class="form-control">
                            <option value="">Ï†ÑÏ≤¥ Ìú¥Í∞ÄÏú†Ìòï</option>
                            <option value="Ïó∞Í∞Ä">Ïó∞Í∞Ä</option>
                            <option value="Î≥ëÍ∞Ä">Î≥ëÍ∞Ä</option>
                            <option value="Í≥µÍ∞Ä">Í≥µÍ∞Ä</option>
                            <option value="ÌäπÎ≥ÑÌú¥Í∞Ä">ÌäπÎ≥ÑÌú¥Í∞Ä</option>
                            <option value="Ïû•Í∏∞Ïû¨ÏßÅÌú¥Í∞Ä">Ïû•Í∏∞Ïû¨ÏßÅÌú¥Í∞Ä</option>
                        </select>
                        <select id="leaveStatusFilter" class="form-control">
                            <option value="">Ï†ÑÏ≤¥ ÏÉÅÌÉú</option>
                            <option value="ÏäπÏù∏ÎåÄÍ∏∞">ÏäπÏù∏ÎåÄÍ∏∞</option>
                            <option value="ÏäπÏù∏">ÏäπÏù∏</option>
                            <option value="Î∞òÎ†§">Î∞òÎ†§</option>
                        </select>
                        <input type="date" id="leaveDateFrom" class="form-control" placeholder="ÏãúÏûëÏùº">
                        <input type="date" id="leaveDateTo" class="form-control" placeholder="Ï¢ÖÎ£åÏùº">
                    </div>

                    <div class="card">
                        <div class="card__body">
                            <div class="table-responsive">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th><input type="checkbox" id="leaveSelectAll" /></th>
                                            <th>Ïã†Ï≤≠Ïùº</th>
                                            <th>Ïã†Ï≤≠Ïûê</th>
                                            <th>Ìú¥Í∞ÄÏ¢ÖÎ•ò</th>
                                            <th>Í∏∞Í∞Ñ</th>
                                            <th>ÏùºÏàò</th>
                                            <th>ÏÇ¨Ïú†</th>
                                            <th>ÏÉÅÌÉú</th>
                                            <th>Í¥ÄÎ¶¨</th>
                                        </tr>
                                    </thead>
                                    <tbody id="leavesTable"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Absences Tab -->
                <div id="absences" class="tab-content">
                    <div class="section-header">
                        <h2>Ìú¥ÏßÅ Í¥ÄÎ¶¨</h2>
                        <button class="btn btn--primary" onclick="openAbsenceForm()">
                            <span class="btn-icon">+</span>
                            Ìú¥ÏßÅ Ïã†Ï≤≠
                        </button>
                    </div>
                    
                    <div class="search-section">
                        <input type="text" id="absenceSearch" class="form-control search-input" placeholder="Ïã†Ï≤≠ÏûêÎ™ÖÏúºÎ°ú Í≤ÄÏÉâ...">
                        <select id="absenceTypeFilter" class="form-control">
                            <option value="">Ï†ÑÏ≤¥ Ìú¥ÏßÅÏú†Ìòï</option>
                            <option value="Ïú°ÏïÑÌú¥ÏßÅ">Ïú°ÏïÑÌú¥ÏßÅ</option>
                            <option value="ÏßàÎ≥ëÌú¥ÏßÅ">ÏßàÎ≥ëÌú¥ÏßÅ</option>
                            <option value="Ïú†ÌïôÌú¥ÏßÅ">Ïú†ÌïôÌú¥ÏßÅ</option>
                            <option value="Í∞ÄÏ°±ÎèåÎ¥ÑÌú¥ÏßÅ">Í∞ÄÏ°±ÎèåÎ¥ÑÌú¥ÏßÅ</option>
                        </select>
                        <select id="absenceStatusFilter" class="form-control">
                            <option value="">Ï†ÑÏ≤¥ ÏÉÅÌÉú</option>
                            <option value="ÏäπÏù∏ÎåÄÍ∏∞">ÏäπÏù∏ÎåÄÍ∏∞</option>
                            <option value="ÏäπÏù∏">ÏäπÏù∏</option>
                            <option value="Î∞òÎ†§">Î∞òÎ†§</option>
                        </select>
                    </div>

                    <div class="card">
                        <div class="card__body">
                            <div class="table-responsive">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th><input type="checkbox" id="absenceSelectAll" /></th>
                                            <th>Ïã†Ï≤≠Ïùº</th>
                                            <th>Ïã†Ï≤≠Ïûê</th>
                                            <th>Ìú¥ÏßÅÏ¢ÖÎ•ò</th>
                                            <th>Í∏∞Í∞Ñ</th>
                                            <th>ÏÇ¨Ïú†</th>
                                            <th>ÏÉÅÌÉú</th>
                                            <th>Í¥ÄÎ¶¨</th>
                                        </tr>
                                    </thead>
                                    <tbody id="absencesTable"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contract Teachers Tab -->
                <div id="contract" class="tab-content">
                    <div class="section-header">
                        <h2>Í∏∞Í∞ÑÏ†úÍµêÏõê Í¥ÄÎ¶¨</h2>
                        <button class="btn btn--primary" onclick="openContractForm()">
                            <span class="btn-icon">+</span>
                            Í∏∞Í∞ÑÏ†úÍµêÏõê Îì±Î°ù
                        </button>
                    </div>
                    
                    <div class="search-section">
                        <input type="text" id="contractSearch" class="form-control search-input" placeholder="ÍµêÏõêÎ™Ö, Í≥ºÎ™©ÏúºÎ°ú Í≤ÄÏÉâ...">
                        <select id="contractReasonFilter" class="form-control">
                            <option value="">Ï†ÑÏ≤¥ ÏûÑÏö©ÏÇ¨Ïú†</option>
                            <option value="Ïú°ÏïÑÌú¥ÏßÅ ÎåÄÏ≤¥">Ïú°ÏïÑÌú¥ÏßÅ ÎåÄÏ≤¥</option>
                            <option value="ÌäπÏ†ïÍµêÍ≥ºÎã¥Îãπ">ÌäπÏ†ïÍµêÍ≥ºÎã¥Îãπ</option>
                            <option value="Í≤∞ÏõêÎ≥¥Ï∂©">Í≤∞ÏõêÎ≥¥Ï∂©</option>
                        </select>
                        <select id="contractStatusFilter" class="form-control">
                            <option value="">Ï†ÑÏ≤¥ ÏÉÅÌÉú</option>
                            <option value="Ïû¨ÏßÅÏ§ë">Ïû¨ÏßÅÏ§ë</option>
                            <option value="Í≥ÑÏïΩÎßåÎ£åÏòàÏ†ï">Í≥ÑÏïΩÎßåÎ£åÏòàÏ†ï</option>
                            <option value="Í≥ÑÏïΩÏ¢ÖÎ£å">Í≥ÑÏïΩÏ¢ÖÎ£å</option>
                        </select>
                    </div>

                    <div class="card">
                        <div class="card__body">
                            <div class="table-responsive">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th><input type="checkbox" id="contractSelectAll" /></th>
                                            <th>ÏÑ±Î™Ö</th>
                                            <th>Í≥ºÎ™©</th>
                                            <th>ÏûÑÏö©ÏÇ¨Ïú†</th>
                                            <th>Í≥ÑÏïΩÍ∏∞Í∞Ñ</th>
                                            <th>ÎåÄÏ≤¥ÍµêÏõê</th>
                                            <th>ÏÉÅÌÉú</th>
                                            <th>Í¥ÄÎ¶¨</th>
                                        </tr>
                                    </thead>
                                    <tbody id="contractTable"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Statistics Tab -->
                <div id="statistics" class="tab-content">
                    <h2>ÌÜµÍ≥Ñ Î∞è Î≥¥Í≥†ÏÑú</h2>
                    
                    <div class="stats-grid">
                        <div class="card">
                            <div class="card__header">
                                <h3>Ìú¥Í∞Ä Ïú†ÌòïÎ≥Ñ ÌòÑÌô©</h3>
                            </div>
                            <div class="card__body">
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="leaveTypesChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card__header">
                                <h3>ÏõîÎ≥Ñ Ìú¥Í∞Ä ÏÇ¨Ïö© ÌòÑÌô©</h3>
                            </div>
                            <div class="card__body">
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="monthlyLeaveChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card__header">
                                <h3>Í∏∞Í∞ÑÏ†úÍµêÏõê Ïö¥ÏòÅ ÌòÑÌô©</h3>
                            </div>
                            <div class="card__body">
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="contractChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card__header">
                                <h3>Î∂ÄÏÑúÎ≥Ñ Ìú¥Í∞Ä ÏÇ¨Ïö©Î•†</h3>
                            </div>
                            <div class="card__body">
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="departmentChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- Universal Modal -->
    <div id="universalModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Ï†úÎ™©</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="modalBody"></div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal hidden">
        <div class="modal-content modal-content--small">
            <div class="modal-header">
                <h3>ÌôïÏù∏</h3>
                <button class="modal-close" onclick="closeConfirmModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p id="confirmMessage">Ï†ïÎßêÎ°ú ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?</p>
                <div class="modal-actions">
                    <button class="btn btn--secondary" onclick="closeConfirmModal()">Ï∑®ÏÜå</button>
                    <button class="btn btn--danger" id="confirmButton">ÏÇ≠Ï†ú</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Day Detail Modal -->
    <div id="dayDetailModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="dayDetailTitle">ÎÇ†ÏßúÎ≥Ñ ÏùºÏ†ï</h3>
                <button class="modal-close" onclick="closeDayDetailModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="dayDetailBody"></div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="app.js"></script>
</body>
</html>