<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>교원 휴가·휴직 관리 대시보드</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <h1>교원 휴가·휴직 관리 시스템</h1>
                <div class="header-info">
                    <span class="user-role">교무부장</span>
                    <span class="current-date" id="currentDate"></span>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav">
            <div class="container">
                <div class="nav-tabs">
                    <button class="nav-tab active" data-tab="dashboard">대시보드</button>
                    <button class="nav-tab" data-tab="teachers">교원관리</button>
                    <button class="nav-tab" data-tab="leaves">휴가관리</button>
                    <button class="nav-tab" data-tab="absences">휴직관리</button>
                    <button class="nav-tab" data-tab="contract">기간제교원</button>
                    <button class="nav-tab" data-tab="statistics">통계</button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main">
            <div class="container">

                <!-- Dashboard Tab -->
                <div id="dashboard" class="tab-content active">
                    <h2>대시보드 현황</h2>
                    
                    <!-- Summary Cards -->
                    <div class="summary-grid">
                        <div class="summary-card">
                            <div class="summary-icon" style="background: var(--color-bg-1);">👥</div>
                            <div class="summary-content">
                                <h3 id="totalTeachers">5</h3>
                                <p>전체 교원수</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon" style="background: var(--color-bg-2);">🏖️</div>
                            <div class="summary-content">
                                <h3 id="onLeave">0</h3>
                                <p>휴가중 교원</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon" style="background: var(--color-bg-3);">⏸️</div>
                            <div class="summary-content">
                                <h3 id="onAbsence">1</h3>
                                <p>휴직중 교원</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon" style="background: var(--color-bg-4);">👨‍🏫</div>
                            <div class="summary-content">
                                <h3 id="contractTeachers">3</h3>
                                <p>기간제 교원</p>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Approvals -->
                    <div class="pending-section">
                        <h3>승인 대기중인 신청서</h3>
                        <div class="card">
                            <div class="card__body">
                                <div id="pendingList" class="pending-list"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Calendar View -->
                    <div class="calendar-section">
                        <h3>이번 달 휴가·휴직 현황</h3>
                        <div class="card">
                            <div class="card__body">
                                <div id="calendarView" class="calendar-view"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Teachers Tab -->
                <div id="teachers" class="tab-content">
                    <div class="section-header">
                        <h2>정규교원 관리</h2>
                        <button class="btn btn--primary" onclick="openTeacherForm()">
                            <span class="btn-icon">+</span>
                            신규 교원 등록
                        </button>
                    </div>
                    
                    <!-- Search and Filter -->
                    <div class="search-section">
                        <input type="text" id="teacherSearch" class="form-control search-input" placeholder="교원명, 과목, 부서로 검색...">
                        <select id="teacherDepartmentFilter" class="form-control">
                            <option value="">전체 부서</option>
                        </select>
                        <select id="teacherStatusFilter" class="form-control">
                            <option value="">전체 상태</option>
                            <option value="재직">재직</option>
                            <option value="육아휴직">육아휴직</option>
                            <option value="병가휴직">병가휴직</option>
                        </select>
                    </div>

                    <div class="card">
                        <div class="card__body">
                            <div class="table-responsive">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th><input type="checkbox" id="teacherSelectAll" /></th>
                                            <th>성명</th>
                                            <th>과목</th>
                                            <th>부서</th>
                                            <th>재직연수</th>
                                            <th>연가일수</th>
                                            <th>사용/잔여</th>
                                            <th>상태</th>
                                            <th>관리</th>
                                        </tr>
                                    </thead>
                                    <tbody id="teachersTable"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Leaves Tab -->
                <div id="leaves" class="tab-content">
                    <div class="section-header">
                        <h2>휴가 관리</h2>
                        <button class="btn btn--primary" onclick="openLeaveForm()">
                            <span class="btn-icon">+</span>
                            휴가 신청
                        </button>
                    </div>
                    
                    <!-- Filter Options -->
                    <div class="search-section">
                        <input type="text" id="leaveSearch" class="form-control search-input" placeholder="신청자명으로 검색...">
                        <select id="leaveTypeFilter" class="form-control">
                            <option value="">전체 휴가유형</option>
                            <option value="연가">연가</option>
                            <option value="병가">병가</option>
                            <option value="공가">공가</option>
                            <option value="특별휴가">특별휴가</option>
                            <option value="장기재직휴가">장기재직휴가</option>
                        </select>
                        <select id="leaveStatusFilter" class="form-control">
                            <option value="">전체 상태</option>
                            <option value="승인대기">승인대기</option>
                            <option value="승인">승인</option>
                            <option value="반려">반려</option>
                        </select>
                        <input type="date" id="leaveDateFrom" class="form-control" placeholder="시작일">
                        <input type="date" id="leaveDateTo" class="form-control" placeholder="종료일">
                    </div>

                    <div class="card">
                        <div class="card__body">
                            <div class="table-responsive">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th><input type="checkbox" id="leaveSelectAll" /></th>
                                            <th>신청일</th>
                                            <th>신청자</th>
                                            <th>휴가종류</th>
                                            <th>기간</th>
                                            <th>일수</th>
                                            <th>사유</th>
                                            <th>상태</th>
                                            <th>관리</th>
                                        </tr>
                                    </thead>
                                    <tbody id="leavesTable"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Absences Tab -->
                <div id="absences" class="tab-content">
                    <div class="section-header">
                        <h2>휴직 관리</h2>
                        <button class="btn btn--primary" onclick="openAbsenceForm()">
                            <span class="btn-icon">+</span>
                            휴직 신청
                        </button>
                    </div>
                    
                    <div class="search-section">
                        <input type="text" id="absenceSearch" class="form-control search-input" placeholder="신청자명으로 검색...">
                        <select id="absenceTypeFilter" class="form-control">
                            <option value="">전체 휴직유형</option>
                            <option value="육아휴직">육아휴직</option>
                            <option value="질병휴직">질병휴직</option>
                            <option value="유학휴직">유학휴직</option>
                            <option value="가족돌봄휴직">가족돌봄휴직</option>
                        </select>
                        <select id="absenceStatusFilter" class="form-control">
                            <option value="">전체 상태</option>
                            <option value="승인대기">승인대기</option>
                            <option value="승인">승인</option>
                            <option value="반려">반려</option>
                        </select>
                    </div>

                    <div class="card">
                        <div class="card__body">
                            <div class="table-responsive">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th><input type="checkbox" id="absenceSelectAll" /></th>
                                            <th>신청일</th>
                                            <th>신청자</th>
                                            <th>휴직종류</th>
                                            <th>기간</th>
                                            <th>사유</th>
                                            <th>상태</th>
                                            <th>관리</th>
                                        </tr>
                                    </thead>
                                    <tbody id="absencesTable"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contract Teachers Tab -->
                <div id="contract" class="tab-content">
                    <div class="section-header">
                        <h2>기간제교원 관리</h2>
                        <button class="btn btn--primary" onclick="openContractForm()">
                            <span class="btn-icon">+</span>
                            기간제교원 등록
                        </button>
                    </div>
                    
                    <div class="search-section">
                        <input type="text" id="contractSearch" class="form-control search-input" placeholder="교원명, 과목으로 검색...">
                        <select id="contractReasonFilter" class="form-control">
                            <option value="">전체 임용사유</option>
                            <option value="육아휴직 대체">육아휴직 대체</option>
                            <option value="특정교과담당">특정교과담당</option>
                            <option value="결원보충">결원보충</option>
                        </select>
                        <select id="contractStatusFilter" class="form-control">
                            <option value="">전체 상태</option>
                            <option value="재직중">재직중</option>
                            <option value="계약만료예정">계약만료예정</option>
                            <option value="계약종료">계약종료</option>
                        </select>
                    </div>

                    <div class="card">
                        <div class="card__body">
                            <div class="table-responsive">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th><input type="checkbox" id="contractSelectAll" /></th>
                                            <th>성명</th>
                                            <th>과목</th>
                                            <th>임용사유</th>
                                            <th>계약기간</th>
                                            <th>대체교원</th>
                                            <th>상태</th>
                                            <th>관리</th>
                                        </tr>
                                    </thead>
                                    <tbody id="contractTable"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Statistics Tab -->
                <div id="statistics" class="tab-content">
                    <h2>통계 및 보고서</h2>
                    
                    <div class="stats-grid">
                        <div class="card">
                            <div class="card__header">
                                <h3>휴가 유형별 현황</h3>
                            </div>
                            <div class="card__body">
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="leaveTypesChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card__header">
                                <h3>월별 휴가 사용 현황</h3>
                            </div>
                            <div class="card__body">
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="monthlyLeaveChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card__header">
                                <h3>기간제교원 운영 현황</h3>
                            </div>
                            <div class="card__body">
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="contractChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <div class="card__header">
                                <h3>부서별 휴가 사용률</h3>
                            </div>
                            <div class="card__body">
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="departmentChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- Universal Modal -->
    <div id="universalModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">제목</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="modalBody"></div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal hidden">
        <div class="modal-content modal-content--small">
            <div class="modal-header">
                <h3>확인</h3>
                <button class="modal-close" onclick="closeConfirmModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p id="confirmMessage">정말로 삭제하시겠습니까?</p>
                <div class="modal-actions">
                    <button class="btn btn--secondary" onclick="closeConfirmModal()">취소</button>
                    <button class="btn btn--danger" id="confirmButton">삭제</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="app.js"></script>
</body>
</html>